<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define multiple analysis paths for a step in the multiverse — branch • multiverse</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumnens/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Define multiple analysis paths for a step in the multiverse — branch" />
<meta property="og:description" content="The `branch()` function allows the user to define multiple analysis options for a particular step
in the analysis." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multiverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Conditions.html">Declaring conditions in the multiverse</a>
    </li>
    <li>
      <a href="../articles/branch.html">A discussion on branches in the multiverse</a>
    </li>
    <li>
      <a href="../articles/calculate-mean-multiverse.html">The most basic multiverse example: calculating the mean</a>
    </li>
    <li>
      <a href="../articles/complete-multiverse-analysis.html">A complete implementation of a multiverse analysis</a>
    </li>
    <li>
      <a href="../articles/dance.html">Recreating `Adding inferential treatments to plots using Resampling and Animations` using multiverse</a>
    </li>
    <li>
      <a href="../articles/frequentist-multiverse-analysis.html">A multiverse analysis of the efficiency of physical visualizations</a>
    </li>
    <li>
      <a href="../articles/hurricane.html">Are hurricanes with more female names deadlier --- an implementation using multiverse</a>
    </li>
    <li>
      <a href="../articles/multiverse-in-rmd.html">Using the multiverse in RMarkdown: Introduction to multiverse code chunks</a>
    </li>
    <li>
      <a href="../articles/visualizing-multiverse.html">Extracting and Visualizing the results of a multiverse analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define multiple analysis paths for a step in the multiverse</h1>
    
    <div class="hidden name"><code>branch.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The `branch()` function allows the user to define multiple analysis options for a particular step
in the analysis.</p>
    </div>


    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>parameter</th>
      <td><p>A string to identify the branch. Each branch is characterised using a parameter which takes
different options.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Different options for completing a particular step in the analysis. Each option is
declared as &lt;option_name&gt; ~ &lt;option_calculation&gt;. See examples for more details.</p></td>
    </tr>
    <tr>
      <th>.options</th>
      <td><p>Declare a continuous value as the option of a parameter using a sequence (see examples for details), 
and the expanded sequence will be included as options for that parameter in the multiverse.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For every step in the analysis, there may be more than one analysis option. We use `branch()`
to declare these different analysis options. Each branch is characterised by a parameter. The first
argument passed into the branch is the paramter.</p>
<p>All the other arguments passed into branch are the different analysis options corresponding to 
that parameter (that particular step in the analysis process). Naturally, at least two or more 
options should be declared. Thus, the branch function will provide a warning
if the total number arguments passed is less than three.</p>
<p>The `branch()` function does not support nested branches. Thus, we cannot declare a branch within a branch.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># declaring multiple options for a data processing step (calculating a new variable) </span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>fertility</span>)
<span class='no'>data.fertility</span> <span class='kw'>&lt;-</span> <span class='no'>fertility</span>

<span class='no'>data.fertility</span>  <span class='kw'>%&gt;%</span>
    <span class='fu'>mutate</span>( <span class='kw'>ComputedCycleLength</span> <span class='kw'>=</span> <span class='no'>StartDateofLastPeriod</span> - <span class='no'>StartDateofPeriodBeforeLast</span> ) <span class='kw'>%&gt;%</span>
    <span class='fu'>mutate</span>( <span class='kw'>NextMenstrualOnset</span> <span class='kw'>=</span> <span class='no'>StartDateNext</span>)

<span class='co'># if the variable `NextMenstrualOnset` can be calculated in more than one way</span>
<span class='co'># we can use branch to declare all the different analysis options as:</span>
<span class='fu'>branch</span>(<span class='no'>menstrual_calculation</span>,
          <span class='st'>"mc_option1"</span> ~ <span class='no'>StartDateofLastPeriod</span> + <span class='no'>ComputedCycleLength</span>,
          <span class='st'>"mc_option2"</span> ~ <span class='no'>StartDateofLastPeriod</span> + <span class='no'>ReportedCycleLength</span>,
          <span class='st'>"mc_option3"</span> ~ <span class='no'>StartDateNext</span>)

<span class='co'># this will replace the current analysis within the current syntax.</span>
<span class='no'>data.fertility</span>  <span class='kw'>%&gt;%</span>
    <span class='fu'>mutate</span>( <span class='kw'>ComputedCycleLength</span> <span class='kw'>=</span> <span class='no'>StartDateofLastPeriod</span> - <span class='no'>StartDateofPeriodBeforeLast</span> ) <span class='kw'>%&gt;%</span>
    <span class='fu'>mutate</span>( <span class='kw'>NextMenstrualOnset</span> <span class='kw'>=</span> <span class='fu'>branch</span>(<span class='no'>menstrual_calculation</span>,
                                   <span class='st'>"mc_option1"</span> ~ <span class='no'>StartDateofLastPeriod</span> + <span class='no'>ComputedCycleLength</span>,
                                   <span class='st'>"mc_option2"</span> ~ <span class='no'>StartDateofLastPeriod</span> + <span class='no'>ReportedCycleLength</span>,
                                   <span class='st'>"mc_option3"</span> ~ <span class='no'>StartDateNext</span>)
    )

<span class='co'># Since this is a multiverse analysis, this is only supported within a multiverse object. Hence:</span>
<span class='fu'><a href='inside.html'>inside</a></span>(<span class='no'>M</span>, {
  <span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>data.fertility</span>  <span class='kw'>%&gt;%</span>
    <span class='fu'>mutate</span>( <span class='kw'>ComputedCycleLength</span> <span class='kw'>=</span> <span class='no'>StartDateofLastPeriod</span> - <span class='no'>StartDateofPeriodBeforeLast</span> ) <span class='kw'>%&gt;%</span>
    <span class='fu'>mutate</span>( <span class='kw'>NextMenstrualOnset</span> <span class='kw'>=</span> <span class='fu'>branch</span>(<span class='no'>menstrual_calculation</span>,
                                   <span class='st'>"mc_option1"</span> ~ <span class='no'>StartDateofLastPeriod</span> + <span class='no'>ComputedCycleLength</span>,
                                   <span class='st'>"mc_option2"</span> ~ <span class='no'>StartDateofLastPeriod</span> + <span class='no'>ReportedCycleLength</span>,
                                   <span class='st'>"mc_option3"</span> ~ <span class='no'>StartDateNext</span>)
    )
})

<span class='co'># continuous option values for a parameter</span>
<span class='fu'><a href='inside.html'>inside</a></span>(<span class='no'>M</span>, {
  <span class='fu'>branch</span>(<span class='no'>foo</span>, <span class='st'>"option1"</span> ~ <span class='fl'>1</span>, <span class='kw'>.options</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>)
  })

<span class='fu'><a href='inside.html'>inside</a></span>(<span class='no'>M</span>, {
  <span class='fu'>branch</span>(<span class='no'>foo</span>, <span class='st'>"option1"</span> ~ <span class='fl'>1</span>, <span class='kw'>.options</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='fl'>0</span>, <span class='fl'>1</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='fl'>0.1</span>))
})
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://abhsarma.github.io'>Abhraneel Sarma</a>, Michael Moon, <a href='http://www.mjskay.com'>Matthew Kay</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


