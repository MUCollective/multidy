<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define multiple analysis paths for a step in the multiverse — branch • multiverse</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Define multiple analysis paths for a step in the multiverse — branch" />
<meta property="og:description" content="The `branch()` function allows the user to define multiple analysis options for a particular step
in the analysis." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multiverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/branch.html">A discussion on branches in the multiverse</a>
    </li>
    <li>
      <a href="../articles/conditions.html">Declaring conditions in the multiverse</a>
    </li>
    <li>
      <a href="../articles/dance.html">Example multiverse implementation: Recreating Adding inferential treatments to plots using Resampling and Animations using multiverse</a>
    </li>
    <li>
      <a href="../articles/durante-multiverse-analysis.html">Example multiverse implementation: Effect of fertility on religiosity and political attitudes</a>
    </li>
    <li>
      <a href="../articles/frequentist-multiverse-analysis.html">Example multiverse implementation: Re-evaluating the efficiency of physical visualizations</a>
    </li>
    <li>
      <a href="../articles/hurricane.html">Example multiverse implementation: Female hurricanes are deadlier than male hurricanes</a>
    </li>
    <li>
      <a href="../articles/multiverse-in-rmd.html">Using the multiverse in RMarkdown: Introduction to multiverse code chunks</a>
    </li>
    <li>
      <a href="../articles/visualising-multiverse.html">Extracting and Visualising the results of a multiverse analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MUCollective/multiverse/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define multiple analysis paths for a step in the multiverse</h1>
    <small class="dont-index">Source: <a href='https://github.com/MUCollective/multiverse/blob/master/R/branch.R'><code>R/branch.R</code></a></small>
    <div class="hidden name"><code>branch.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The `branch()` function allows the user to define multiple analysis options for a particular step
in the analysis.</p>
    </div>


    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>parameter</th>
      <td><p>A string to identify the branch. Each branch is characterised using a parameter which takes
different options.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Different options for completing a particular step in the analysis. Each option is
declared as &lt;option_name&gt; ~ &lt;option_calculation&gt;. See examples for more details.</p></td>
    </tr>
    <tr>
      <th>.options</th>
      <td><p>Declare a continuous value as the option of a parameter using a sequence (see examples for details), 
and the expanded sequence will be included as options for that parameter in the multiverse.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For every step in the analysis, there may be more than one analysis option. We use `branch()`
to declare these different analysis options. Each branch is characterised by a parameter. The first
argument passed into the branch is the parameter.</p>
<p>All the other arguments passed into branch are the different analysis options corresponding to 
that parameter (that particular step in the analysis process). Naturally, at least two or more 
options should be declared. Thus, the branch function will provide a warning
if the total number arguments passed is less than three.</p>
<p>The `branch()` function does not support nested branches. Thus, we cannot declare a branch within a branch.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘dplyr’</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:stats’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    filter, lag</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    intersect, setdiff, setequal, union</span></div><div class='input'>
<span class='co'># declaring multiple options for a data processing step (calculating a new variable) </span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>durante</span><span class='op'>)</span>
<span class='va'>data.durante</span> <span class='op'>&lt;-</span> <span class='va'>durante</span>

<span class='va'>data.durante</span>  <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span> ComputedCycleLength <span class='op'>=</span> <span class='va'>StartDateofLastPeriod</span> <span class='op'>-</span> <span class='va'>StartDateofPeriodBeforeLast</span> <span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span> NextMenstrualOnset <span class='op'>=</span> <span class='va'>StartDateNext</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 502 x 26</span>
#&gt;    WorkerID  Rel1  Rel2  Rel3 Abortion Marriage StemCell RestrictAbortion
#&gt;       <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>            <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span>        1     8     8     7        2        7        7                7
#&gt; <span style='color: #BCBCBC;'> 2</span>        2     8     7     7        7        2        5                1
#&gt; <span style='color: #BCBCBC;'> 3</span>        3     6     6     2        3        1        6                4
#&gt; <span style='color: #BCBCBC;'> 4</span>        4     7     8     6        7        5        6                2
#&gt; <span style='color: #BCBCBC;'> 5</span>        5     7     7     9        7        1        4                1
#&gt; <span style='color: #BCBCBC;'> 6</span>        6     9     9     9        1        7        6                7
#&gt; <span style='color: #BCBCBC;'> 7</span>        7     5     8     5        5        4        5                5
#&gt; <span style='color: #BCBCBC;'> 8</span>        8     1     1     1        7        1        6                1
#&gt; <span style='color: #BCBCBC;'> 9</span>        9     7     7     7        3        1        6                1
#&gt; <span style='color: #BCBCBC;'>10</span>       10     6     6     6        5        5        5                1
#&gt; <span style='color: #949494;'># … with 492 more rows, and 18 more variables: Marijuana &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   FreeMarket &lt;dbl&gt;, RichTax &lt;dbl&gt;, StLiving &lt;dbl&gt;, Profit &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   PrivSocialSec &lt;dbl&gt;, Sure1 &lt;dbl&gt;, Sure2 &lt;dbl&gt;, Relationship &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   ReportedCycleLength &lt;dbl&gt;, Vote &lt;dbl&gt;, Donate &lt;dbl&gt;, DateTesting &lt;date&gt;,</span>
#&gt; <span style='color: #949494;'>#   StartDateofLastPeriod &lt;date&gt;, StartDateofPeriodBeforeLast &lt;date&gt;,</span>
#&gt; <span style='color: #949494;'>#   StartDateNext &lt;date&gt;, ComputedCycleLength &lt;drtn&gt;, NextMenstrualOnset &lt;date&gt;</span></div><div class='input'>

<span class='co'># create a multiverse object</span>
<span class='va'>M</span> <span class='op'>&lt;-</span> <span class='fu'><a href='multiverse.html'>multiverse</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># if the variable `NextMenstrualOnset` can be calculated in more than one way</span>
<span class='co'># we can use branch to declare all the different analysis options. This will </span>
<span class='co'># replace the current analysis within the current syntax.</span>
<span class='co'># Since this is a multiverse analysis, this is only supported within a multiverse object. Hence:</span>
<span class='fu'><a href='inside.html'>inside</a></span><span class='op'>(</span><span class='va'>M</span>, <span class='op'>{</span>
  <span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>data.durante</span>  <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span> ComputedCycleLength <span class='op'>=</span> <span class='va'>StartDateofLastPeriod</span> <span class='op'>-</span> <span class='va'>StartDateofPeriodBeforeLast</span> <span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span> NextMenstrualOnset <span class='op'>=</span> <span class='fu'>branch</span><span class='op'>(</span><span class='va'>menstrual_calculation</span>, 
                                   <span class='st'>"mc_option1"</span> <span class='op'>~</span> <span class='va'>StartDateofLastPeriod</span> <span class='op'>+</span> <span class='va'>ComputedCycleLength</span>,
                                   <span class='st'>"mc_option2"</span> <span class='op'>~</span> <span class='va'>StartDateofLastPeriod</span> <span class='op'>+</span> <span class='va'>ReportedCycleLength</span>,
                                   <span class='st'>"mc_option3"</span> <span class='op'>~</span> <span class='va'>StartDateNext</span><span class='op'>)</span>
    <span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span>

<span class='co'># continuous option values for a parameter</span>
<span class='fu'><a href='inside.html'>inside</a></span><span class='op'>(</span><span class='va'>M</span>, <span class='op'>{</span>
  <span class='fu'>branch</span><span class='op'>(</span><span class='va'>foo</span>, <span class='st'>"option1"</span> <span class='op'>~</span> <span class='fl'>1</span>, .options <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span>

<span class='va'>M2</span> <span class='op'>=</span> <span class='fu'><a href='multiverse.html'>multiverse</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='co'># alternatively, we could specify how we want the vector to be expanded</span>
<span class='co'># for continuous parameters</span>
<span class='fu'><a href='inside.html'>inside</a></span><span class='op'>(</span><span class='va'>M2</span>, <span class='op'>{</span>
  <span class='fu'>branch</span><span class='op'>(</span><span class='va'>foo</span>, <span class='st'>"option1"</span> <span class='op'>~</span> <span class='fl'>1</span>, .options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span>, by <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span>
<span class='co'># }</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://abhsarma.github.io'>Abhraneel Sarma</a>, Michael Moon, <a href='http://www.mjskay.com'>Matthew Kay</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


