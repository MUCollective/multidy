<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A multiverse analysis of the efficiency of physical visualizations • multiverse</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumnens/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A multiverse analysis of the efficiency of physical visualizations">
<meta property="og:description" content="multiverse">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multiverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Conditions.html">Declaring conditions in the multiverse</a>
    </li>
    <li>
      <a href="../articles/branch.html">A discussion on branches in the multiverse</a>
    </li>
    <li>
      <a href="../articles/calculate-mean-multiverse.html">The most basic multiverse example: calculating the mean</a>
    </li>
    <li>
      <a href="../articles/complete-multiverse-analysis.html">A complete implementation of a multiverse analysis</a>
    </li>
    <li>
      <a href="../articles/dance.html">Recreating `Adding inferential treatments to plots using Resampling and Animations` using multiverse</a>
    </li>
    <li>
      <a href="../articles/frequentist-multiverse-analysis.html">A multiverse analysis of the efficiency of physical visualizations</a>
    </li>
    <li>
      <a href="../articles/hurricane.html">Are hurricanes with more female names deadlier --- an implementation using multiverse</a>
    </li>
    <li>
      <a href="../articles/multiverse-in-rmd.html">Using the multiverse in RMarkdown: Introduction to multiverse code chunks</a>
    </li>
    <li>
      <a href="../articles/visualizing-multiverse.html">Extracting and Visualizing the results of a multiverse analysis</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="frequentist-multiverse-analysis_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A multiverse analysis of the efficiency of physical visualizations</h1>
            
            <h4 class="date">2020-10-28</h4>
      
      
      <div class="hidden name"><code>frequentist-multiverse-analysis.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">knitr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">purrr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">broom</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">gganimate</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">multiverse</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">boot</span>)</pre></body></html></div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>In this vignette, we will recreate the multiverse analysis, <a href="https://explorablemultiverse.github.io/examples/frequentist/">Frequentist</a>, performed by Dragicevic et al. in <a href="https://hal.inria.fr/hal-01976951/document">Increasing the transparency of research papers with explorable multiverse analyses</a> using the package. The re-analysis is of a study which shows that moving 3D data visualizations to the physical world can improve users’ efficiency at information retrieval tasks.</p>
</div>
<div id="the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-data" class="anchor"></a>The data</h2>
<p>The original study consisted of two experiments. Dragicevic et al. only re-analyze the second experiment, whose goal was to better understand why physical visualizations appear to be superior. The experiment involved an “enhanced” version of the on-screen 3D chart and an “impoverished” version of the physical 3D chart. The enhanced on-screen chart was rotated using a 3D-tracked tangible prop instead of a mouse. The impoverished physical chart consisted of the same physical object but participants were instructed not to use their fingers for marking. There were 4 conditions:</p>
<ul>
<li>physical touch: physical 3D bar charts where touch was explicitly encouraged in the instructions.</li>
<li>physical no touch: same charts as above except subjects were told not to use their fingers to mark points of interest (labels and bars).</li>
<li>virtual prop: on-screen 3D bar charts with a tangible prop for controlling 3D rotation.</li>
<li>virtual mouse: same charts as above, but 3D rotation was mouse-controlled.</li>
</ul>
<p>These manipulations were meant to answer three questions:</p>
<ol style="list-style-type: decimal">
<li>how important is direct touch in the physical condition?</li>
<li>how important is rotation by direct manipulation?</li>
<li>how important is visual realism? Visual realism referred to the higher perceptual richness of physical objects compared to on-screen objects, especially concerning depth cues.</li>
</ol>
<p>We load the data for this study which is contained in <code><a href="https://rdrr.io/r/utils/data.html">data(userlogs)</a></code> in the <code>multiverse</code> package.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"userlogs"</span>)
<span class="no">data.userlogs.raw</span> <span class="kw">=</span> <span class="no">userlogs</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">data.userlogs.raw</span>)</pre></body></html></div>
<pre><code>##   subject group formerSubject conditionrank modality  modalityname repetition
## 1       4     4            no             1        4 virtual-mouse          1
## 2       4     4            no             1        4 virtual-mouse          1
## 3       4     4            no             1        4 virtual-mouse          1
## 4       4     4            no             1        4 virtual-mouse          1
## 5       4     4            no             1        4 virtual-mouse          2
## 6       4     4            no             1        4 virtual-mouse          2
##   question trial  datasetname readingTime error duration perceivedDifficulty
## 1        1     1         army          26     0  44.5686                   2
## 2        2     2         army          10     0 120.6228                   4
## 3        3     3         army           2     0  99.4174                   3
## 4        4     4         army          19     0  53.7313                   3
## 5        1     5 externaldebt          12     1  62.6189                   3
## 6        2     6 externaldebt          20     0  59.1863                   2
##   perceivedTime
## 1            42
## 2            81
## 3            95
## 4            66
## 5            59
## 6            48</code></pre>
</div>
<div id="analysis-1-mean-and-confidence-intervals-for-each-condition" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis-1-mean-and-confidence-intervals-for-each-condition" class="anchor"></a>Analysis #1: Mean and Confidence Intervals for each condition</h2>
<p>In this vignette, we are primarily concerned with the variables: <code>duration</code> and <code>modality</code>, as the focus of this analysis is on task completion times.</p>
<p>The first (default) analysis is a one-sided t-test to estimate the means and 95% confidence intervals of the log-transformed task completion time (duration). Since, task completion times are strictly positive, and may have a long tail, this decision makes sense. However, it may be reasonable to use the untransformed data as well. On the other hand, it is also reasonable to use a bootstrap test instead of a t-test.</p>
<p>This results in four possible analysis combinations, two each for data transformation (log and untransformed), and model (t-test and BCa bootsrap).</p>
<div id="average-task-completion-time-arithmetic-mean-for-each-condition-" class="section level3">
<h3 class="hasAnchor">
<a href="#average-task-completion-time-arithmetic-mean-for-each-condition-" class="anchor"></a>Average task completion time (arithmetic mean) for each condition.</h3>
<p>We need a few helper functions to so that they take the same arguments and return the same output.These functions will help us calculate the mean point estimate and the upper and lower bounds of the 95% confidence interval using the bootstrap method and t-test method.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">bootstrappedCI</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">observations</span>, <span class="no">conf.level</span>, <span class="no">seed</span> <span class="kw">=</span> <span class="fl">0</span>) {
  <span class="no">samplemean</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">x</span>, <span class="no">d</span>) {<span class="fu"><a href="https://rdrr.io/r/base/function.html">return</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">x</span>[<span class="no">d</span>]))}
  <span class="no">pointEstimate</span> <span class="kw">&lt;-</span> <span class="fu">samplemean</span>(<span class="no">observations</span>)
  <span class="kw">if</span> (!(<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(<span class="no">seed</span>) <span class="kw">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span>(<span class="no">seed</span>))){
    <span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="no">seed</span>) <span class="co"># make deterministic</span>
  }
  <span class="no">bootstrap_samples</span> <span class="kw">&lt;-</span> <span class="kw pkg">boot</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.html">boot</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">observations</span>, <span class="kw">statistic</span> <span class="kw">=</span> <span class="no">samplemean</span>, <span class="kw">R</span> <span class="kw">=</span> <span class="fl">5000</span>)
  <span class="no">bootci</span> <span class="kw">&lt;-</span> <span class="kw pkg">boot</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/boot/man/boot.ci.html">boot.ci</a></span>(<span class="no">bootstrap_samples</span>, <span class="kw">type</span> <span class="kw">=</span> <span class="st">"bca"</span>, <span class="kw">conf</span> <span class="kw">=</span> <span class="no">conf.level</span>)
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">pointEstimate</span>,  <span class="no">bootci</span>$<span class="no">bca</span>[<span class="fl">4</span>], <span class="no">bootci</span>$<span class="no">bca</span>[<span class="fl">5</span>])
}

<span class="no">tCI</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">observations</span>, <span class="no">conf.level</span>) {
  <span class="no">pointEstimate</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">observations</span>)
  <span class="no">sampleSD</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span>(<span class="no">observations</span>)
  <span class="no">sampleN</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="no">observations</span>)
  <span class="no">sampleError</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">qt</a></span>(<span class="fl">1</span>-(<span class="fl">1</span>-<span class="no">conf.level</span>)/<span class="fl">2</span>, <span class="kw">df</span> <span class="kw">=</span> <span class="no">sampleN</span>-<span class="fl">1</span>) * <span class="no">sampleSD</span>/<span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span>(<span class="no">sampleN</span>)
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">pointEstimate</span>, <span class="no">pointEstimate</span> - <span class="no">sampleError</span>, <span class="no">pointEstimate</span> + <span class="no">sampleError</span>)
}</pre></body></html></div>
<p>Next we initialise the multiverse object within which this analysis will take place.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">M</span> <span class="kw">=</span> <span class="fu"><a href="../reference/multiverse.html">multiverse</a></span>()</pre></body></html></div>
<p>Now we define the parameters we want to consider in the multiverse: confidence interval method (<code>ci_method</code>) and data transformation method (<code>data_transform</code>). We also define a parameter for confidence level, as the choice of a 95% confidence level is arbitrary and we can choose to instead present our results with alternate confidence levels. Here we vary between: 50%, 75%, 89%, 85%, 99%, 99.9%. Thus our multiverse consists of: 2 <span class="math inline">\(\times\)</span> 2 <span class="math inline">\(\times\)</span> 7 different analysis combinations.</p>
<p>We will use the multiverse code block to enter code into the multiverse. See the { for more details.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">ci_method</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/branch.html">branch</a></span>(<span class="no">ci_method</span>,
    <span class="st">"t based"</span>   ~ <span class="st">"tCI"</span>,
    <span class="st">"bootstrap"</span> ~ <span class="st">"bootstrappedCI"</span>
)

<span class="no">data_transform</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/branch.html">branch</a></span>(<span class="no">data_transform</span>,
    <span class="st">"log-transformed"</span> ~ <span class="no">log</span>,
    <span class="st">"untransformed"</span> ~ <span class="no">identity</span>
)

<span class="no">conf_level</span> <span class="kw">&lt;-</span>  <span class="fu"><a href="../reference/branch.html">branch</a></span>(<span class="no">conf_level</span>,
    <span class="st">"50%"</span> ~ <span class="fl">0.5</span>,
    <span class="st">"67"</span> ~ <span class="fl">0.67</span>,
    <span class="st">"89"</span> ~ <span class="fl">0.89</span>,
    <span class="st">"95%"</span> ~ <span class="fl">0.95</span>,
    <span class="st">"99%"</span> ~ <span class="fl">0.99</span>,
    <span class="st">"99.9%"</span> ~ <span class="fl">0.999</span>
)</pre></body></html></div>
<p>We now look at the multiverse table and see that it has created all the possible combinations:</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/accessors.html">expand</a></span>(<span class="no">M</span>)</pre></body></html></div>
<pre><code>## # A tibble: 24 x 7
##    .universe ci_method data_transform conf_level .parameter_assi… .code .results
##        &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;      &lt;list&gt;           &lt;lis&gt; &lt;list&gt;  
##  1         1 t based   log-transform… 50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  2         2 t based   log-transform… 67         &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  3         3 t based   log-transform… 89         &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  4         4 t based   log-transform… 95%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  5         5 t based   log-transform… 99%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  6         6 t based   log-transform… 99.9%      &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  7         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  8         8 t based   untransformed  67         &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  9         9 t based   untransformed  89         &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 10        10 t based   untransformed  95%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## # … with 14 more rows</code></pre>
<p>We then actually perform the steps within the multiverse to get results from the different possible combinations of analysis options. First, we perform the data transformation operation within the multiverse. This will result in the data being appropriately transformed (log or identity) in the corresponding multiverse.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">duration</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="no">data_transform</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">data.userlogs.raw</span>$<span class="no">duration</span>))</pre></body></html></div>
<p>Next, we calculate the mean point estimates and 95% confidence intervals for each condition in the experiment. We also need to format the data so that the results could be neatly stored in a <code>data.frame</code>. We strongly recommend sotring the results that you would wish to extract from the multiverse in a <code>data.frame</code> as that would make it much easier for analysing and visualising the results.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">modality</span> <span class="kw">&lt;-</span> <span class="no">data.userlogs.raw</span>$<span class="no">modalityname</span>

<span class="no">ci.physical_notouch</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="no">ci_method</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'physical-notouch'</span>], <span class="no">conf_level</span>))
<span class="no">ci.physical_notouch</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"physical_notouch"</span>, <span class="no">ci.physical_notouch</span>)), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"modality"</span>, <span class="st">"estimate"</span>, <span class="st">"conf.low"</span>, <span class="st">"conf.high"</span>))

<span class="no">ci.physical_touch</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="no">ci_method</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'physical-touch'</span>], <span class="no">conf_level</span>))
<span class="no">ci.physical_touch</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"physical_touch"</span>, <span class="no">ci.physical_touch</span>)), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"modality"</span>, <span class="st">"estimate"</span>, <span class="st">"conf.low"</span>, <span class="st">"conf.high"</span>))

<span class="no">ci.virtual_prop</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="no">ci_method</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'virtual-prop'</span>], <span class="no">conf_level</span>))
<span class="no">ci.virtual_prop</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"virtual_prop"</span>, <span class="no">ci.virtual_prop</span>)), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"modality"</span>, <span class="st">"estimate"</span>, <span class="st">"conf.low"</span>, <span class="st">"conf.high"</span>))

<span class="no">ci.virtual_mouse</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="no">ci_method</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'virtual-mouse'</span>], <span class="no">conf_level</span>))
<span class="no">ci.virtual_mouse</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"virtual_mouse"</span>, <span class="no">ci.virtual_mouse</span>)), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"modality"</span>, <span class="st">"estimate"</span>, <span class="st">"conf.low"</span>, <span class="st">"conf.high"</span>))

<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind.data.frame</a></span>(<span class="no">ci.physical_notouch</span>, <span class="no">ci.physical_touch</span>, <span class="no">ci.virtual_prop</span>, <span class="no">ci.virtual_mouse</span>, <span class="kw">make.row.names</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">stringsAsFactors</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html">transform</a></span>(<span class="no">df</span>, <span class="kw">estimate</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">estimate</span>), <span class="kw">conf.low</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">conf.low</span>), <span class="kw">conf.high</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">conf.high</span>))</pre></body></html></div>
<p>Since the multiverse only executes the default analysis, we then run the following command to run all the analysis that we have defined in the multiverse.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="../reference/execute.html">execute_multiverse</a></span>(<span class="no">M</span>)</pre></body></html></div>
</div>
</div>
<div id="results-1" class="section level2">
<h2 class="hasAnchor">
<a href="#results-1" class="anchor"></a>Results #1</h2>
<div id="extracting-the-results-from-the-multiverse-object" class="section level3">
<h3 class="hasAnchor">
<a href="#extracting-the-results-from-the-multiverse-object" class="anchor"></a>Extracting the results from the multiverse object</h3>
<p>Next, we need to extract the results from the multiverse. The results for each unique analysis combination (a universe in our multiverse), is stored in an environment in the <code>.results</code> column. We can extract data frames from this column using the  function. This creates a new column in our data frame, <code>summary</code> which itself consists of data frames.</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">df.mtbl</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/accessors.html">expand</a></span>(<span class="no">M</span>)
<span class="no">df.mtbl</span>$<span class="no">summary</span> <span class="kw">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span>(<span class="no">df.mtbl</span>$<span class="no">.results</span>, <span class="st">"df"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">df.mtbl</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 8
##   .universe ci_method data_transform conf_level .parameter_assi… .code .results
##       &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;      &lt;list&gt;           &lt;lis&gt; &lt;list&gt;  
## 1         1 t based   log-transform… 50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 2         2 t based   log-transform… 67         &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 3         3 t based   log-transform… 89         &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 4         4 t based   log-transform… 95%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 5         5 t based   log-transform… 99%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 6         6 t based   log-transform… 99.9%      &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## # … with 1 more variable: summary &lt;list&gt;</code></pre>
<p>As we can see above, each row in the <code>summary</code> column consists of a <span class="math inline">\(4 \times 4\)</span>, data frame which we will need to unpack. We will use the  function to expand the different columns of the data frame into their own columns. Finally, we use the  function to unnest the rows of the data frame into their own row. Note that we have a <code>.universe</code> column which indexes each universe in our multiverse i.e. each unique analysis combination.</p>
<p>Below we can see the result of this transformation. You can see that we have created four new columns (<code>modality</code>, <code>estimate</code>, <code>conf.low</code>, <code>conf.high</code>). In addition, we have four rows for each universe corresponding to the results for each of the four conditions in our experiment.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">df.mtbl</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/hoist.html">unnest_wider</a></span>(<span class="no">df.mtbl</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">summary</span>))
<span class="no">df.mtbl</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span>(<span class="no">df.mtbl</span>, <span class="kw">cols</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">modality</span>, <span class="no">estimate</span>, <span class="no">conf.low</span>, <span class="no">conf.high</span>))
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">df.mtbl</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 11
##   .universe ci_method data_transform conf_level .parameter_assi… .code .results
##       &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;      &lt;list&gt;           &lt;lis&gt; &lt;list&gt;  
## 1         1 t based   log-transform… 50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 2         1 t based   log-transform… 50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 3         1 t based   log-transform… 50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 4         1 t based   log-transform… 50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 5         2 t based   log-transform… 67         &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 6         2 t based   log-transform… 67         &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## # … with 4 more variables: modality &lt;chr&gt;, estimate &lt;dbl&gt;, conf.low &lt;dbl&gt;,
## #   conf.high &lt;dbl&gt;</code></pre>
</div>
<div id="visualising-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#visualising-the-results" class="anchor"></a>Visualising the results</h3>
<p>We will then sort the results, and transform the log transformed variables back on to the natural scale. We are then ready to visualise the result by animating over each universe.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="no">df.mtbl</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="no">df.mtbl</span>, <span class="no">conf_level</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(<span class="no">data_transform</span>), <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(<span class="no">ci_method</span>))

<span class="no">df.results</span> <span class="kw">&lt;-</span> <span class="no">df.mtbl</span>
<span class="no">df.results</span>$<span class="no">estimate</span>[<span class="no">df.mtbl</span>$<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>] <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="no">df.mtbl</span>$<span class="no">estimate</span>[<span class="no">df.mtbl</span>$<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>])
<span class="no">df.results</span>$<span class="no">conf.low</span>[<span class="no">df.mtbl</span>$<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>] <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="no">df.mtbl</span>$<span class="no">conf.low</span>[<span class="no">df.mtbl</span>$<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>])
<span class="no">df.results</span>$<span class="no">conf.high</span>[<span class="no">df.mtbl</span>$<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>] <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="no">df.mtbl</span>$<span class="no">conf.high</span>[<span class="no">df.mtbl</span>$<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>])

<span class="no">df.results</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()</pre></body></html></div>
<pre><code>## # A tibble: 6 x 11
##   .universe ci_method data_transform conf_level .parameter_assi… .code .results
##       &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;      &lt;list&gt;           &lt;lis&gt; &lt;list&gt;  
## 1         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 2         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 3         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 4         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 5        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 6        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## # … with 4 more variables: modality &lt;chr&gt;, estimate &lt;dbl&gt;, conf.low &lt;dbl&gt;,
## #   conf.high &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="no">p</span> <span class="kw">&lt;-</span> <span class="no">df.results</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>( <span class="kw">xintercept</span> <span class="kw">=</span> <span class="fl">0</span>,  <span class="kw">colour</span> <span class="kw">=</span> <span class="st">'#979797'</span> ) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>( <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">estimate</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">modality</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_errorbarh.html">geom_errorbarh</a></span>( <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xmin</span> <span class="kw">=</span> <span class="no">conf.low</span>, <span class="kw">xmax</span> <span class="kw">=</span> <span class="no">conf.high</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">modality</span>), <span class="kw">height</span> <span class="kw">=</span> <span class="fl">0</span>) +
  <span class="fu"><a href="https://gganimate.com/reference/transition_manual.html">transition_manual</a></span>( <span class="no">.universe</span> )

<span class="fu"><a href="https://gganimate.com/reference/animate.html">animate</a></span>(<span class="no">p</span>, <span class="kw">nframes</span> <span class="kw">=</span> <span class="fl">28</span>,  <span class="kw">fps</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<pre><code>## nframes and fps adjusted to match transition</code></pre>
<p><img src="frequentist-multiverse-analysis_files/figure-html/unnamed-chunk-8-1.gif"><!-- --></p>
<p>The figure above shows the (geometric) mean completion time for each condition. At first sight, physical touch appears to be cnsistently faster than the other conditions, across all possible analysis combinations specified in the multiverse. However, since condition is a within-subject factor, it is preferable to examine within-subject differences, which we show in the next section.</p>
</div>
<div id="sidebar-using-the-tidyverse-to-extract-and-visualize-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#sidebar-using-the-tidyverse-to-extract-and-visualize-the-results" class="anchor"></a>Sidebar: Using the tidyverse to extract and visualize the results</h3>
<p>So far we have tried to keep this analysis in base R. However, the steps involved in extracting and visualising results from the multiverse maybe more convenient for some using the tidyverse API. We can implement the steps that we have taken in the previous three code block in the following way using the tidyverse. The result of this is the same data frame that was created in the previous step, and was used as input data to ggplot, <code>df.results</code>. The <code>multiverse</code> package is flexible, and does not restrict you towards a particular style of R programming.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="fu"><a href="../reference/accessors.html">expand</a></span>(<span class="no">M</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>( <span class="kw">index</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">1</span>:<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="no">.</span>)) ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>( <span class="kw">summary</span> <span class="kw">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span>(<span class="no">.results</span>, <span class="st">"df"</span>) ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/hoist.html">unnest_wider</a></span>( <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">summary</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span>(<span class="kw">cols</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">modality</span>, <span class="no">estimate</span>, <span class="no">conf.low</span>, <span class="no">conf.high</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(
    <span class="kw">estimate</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="no">estimate</span>), <span class="no">estimate</span>),
    <span class="kw">conf.low</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="no">conf.low</span>), <span class="no">conf.low</span>),
    <span class="kw">conf.high</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="no">data_transform</span> <span class="kw">==</span> <span class="st">"log-transformed"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span>(<span class="no">conf.high</span>), <span class="no">conf.high</span>)
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="no">conf_level</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(<span class="no">data_transform</span>), <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(<span class="no">ci_method</span>))</pre></body></html></div>
<pre><code>## # A tibble: 96 x 12
##    .universe ci_method data_transform conf_level .parameter_assi… .code .results
##        &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;      &lt;list&gt;           &lt;lis&gt; &lt;list&gt;  
##  1         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  2         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  3         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  4         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  5        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  6        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  7        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  8        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
##  9         1 t based   log-transform… 50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 10         1 t based   log-transform… 50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## # … with 86 more rows, and 5 more variables: index &lt;int&gt;, modality &lt;chr&gt;,
## #   estimate &lt;dbl&gt;, conf.low &lt;dbl&gt;, conf.high &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="analysis-2-differences-between-mean-completion-times-between-conditions" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis-2-differences-between-mean-completion-times-between-conditions" class="anchor"></a>Analysis #2: Differences between mean completion times between conditions</h2>
<p>Next, we compute the pairwise ratios between mean completion times to examine the within-subject differences.</p>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="no">diff.touch_notouch</span> <span class="kw">&lt;-</span> <span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'physical-notouch'</span>] - <span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'physical-touch'</span>]
<span class="no">`physical_touch - physical_notouch`</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="no">ci_method</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">diff.touch_notouch</span>, <span class="no">conf_level</span>))
<span class="no">`physical_touch - physical_notouch`</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"physical_touch - physical_notouch"</span>, <span class="no">`physical_touch - physical_notouch`</span>)), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"modality"</span>, <span class="st">"estimate"</span>, <span class="st">"conf.low"</span>, <span class="st">"conf.high"</span>))

<span class="no">diff.notouch_prop</span> <span class="kw">&lt;-</span> <span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'physical-notouch'</span>] - <span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'virtual-prop'</span>]
<span class="no">`physical_notouch - virtual_prop`</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="no">ci_method</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">diff.notouch_prop</span>, <span class="no">conf_level</span>))
<span class="no">`physical_notouch - virtual_prop`</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"physical_notouch - virtual_prop"</span>, <span class="no">`physical_notouch - virtual_prop`</span>)), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"modality"</span>, <span class="st">"estimate"</span>, <span class="st">"conf.low"</span>, <span class="st">"conf.high"</span>))

<span class="no">diff.propr_mouse</span> <span class="kw">&lt;-</span> <span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'virtual-prop'</span>] - <span class="no">duration</span>[<span class="no">modality</span> <span class="kw">==</span> <span class="st">'virtual-mouse'</span>]
<span class="no">`virtual_prop - virtual_mouse`</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="no">ci_method</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">diff.propr_mouse</span>, <span class="no">conf_level</span>))
<span class="no">`virtual_prop - virtual_mouse`</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"virtual_prop - virtual_mouse"</span>, <span class="no">`virtual_prop - virtual_mouse`</span>)), <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"modality"</span>, <span class="st">"estimate"</span>, <span class="st">"conf.low"</span>, <span class="st">"conf.high"</span>))

<span class="no">df.diffs</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind.data.frame</a></span>(<span class="no">`physical_touch - physical_notouch`</span>, <span class="no">`physical_notouch - virtual_prop`</span>, <span class="no">`virtual_prop - virtual_mouse`</span>, <span class="kw">make.row.names</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">stringsAsFactors</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="no">df.diffs</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html">transform</a></span>(<span class="no">df.diffs</span>, <span class="kw">estimate</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">estimate</span>), <span class="kw">conf.low</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">conf.low</span>), <span class="kw">conf.high</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">conf.high</span>))</pre></body></html></div>
<p>We can output the data frame that we have created inside the multiverse code block, as we would for a data frame in R. This would output the result in the default universe () of the multiverse. We can see that this data frame, as intended, has computed the mean differences and 95% confidence intervals between the conditions we care about.</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="no">df.diffs</span></pre></body></html></div>
<p>We then execute all the other analysis combinations (universes) in our multiverse.</p>
<div class="sourceCode" id="cb24"><html><body><pre class="r"><span class="fu"><a href="../reference/execute.html">execute_multiverse</a></span>(<span class="no">M</span>)</pre></body></html></div>
<div id="extracting-and-visualizing-the-results-from-the-multiverse" class="section level3">
<h3 class="hasAnchor">
<a href="#extracting-and-visualizing-the-results-from-the-multiverse" class="anchor"></a>Extracting and visualizing the results from the multiverse</h3>
<p>We then use the workflow described in the previous section to extract results for each universe in the multiverse. We then use gganimate to plot the results.</p>
<div class="sourceCode" id="cb25"><html><body><pre class="r"><span class="no">df.results.diff</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/accessors.html">expand</a></span>(<span class="no">M</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/extract_variables.html">extract_variables</a></span>(<span class="no">df.diffs</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">df.diffs</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(<span class="no">data_transform</span>), <span class="no">conf_level</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(<span class="no">ci_method</span>))

<span class="no">df.results.diff</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()</pre></body></html></div>
<pre><code>## # A tibble: 6 x 11
##   .universe ci_method data_transform conf_level .parameter_assi… .code .results
##       &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;      &lt;list&gt;           &lt;lis&gt; &lt;list&gt;  
## 1         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 2         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 3         7 t based   untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 4        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 5        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## 6        19 bootstrap untransformed  50%        &lt;named list [3]&gt; &lt;nam… &lt;env&gt;   
## # … with 4 more variables: modality &lt;chr&gt;, estimate &lt;dbl&gt;, conf.low &lt;dbl&gt;,
## #   conf.high &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="results-2" class="section level2">
<h2 class="hasAnchor">
<a href="#results-2" class="anchor"></a>Results #2</h2>
<p>A value lower than 1 (i.e., on the left side of the dark line) means the condition on the left is faster than the condition on the right. The confidence intervals are not corrected for multiplicity. The results from this study appear to be relatively robust and consistent across all the possible combinations that we have tried.</p>
<div class="sourceCode" id="cb27"><html><body><pre class="r"><span class="no">p</span> <span class="kw">&lt;-</span> <span class="no">df.results.diff</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>( <span class="kw">xintercept</span> <span class="kw">=</span> <span class="fl">0</span>,  <span class="kw">colour</span> <span class="kw">=</span> <span class="st">'#979797'</span> ) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>( <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">estimate</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">modality</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_errorbarh.html">geom_errorbarh</a></span>( <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">xmin</span> <span class="kw">=</span> <span class="no">conf.low</span>, <span class="kw">xmax</span> <span class="kw">=</span> <span class="no">conf.high</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">modality</span>), <span class="kw">height</span> <span class="kw">=</span> <span class="fl">0</span>) +
  <span class="fu"><a href="https://gganimate.com/reference/transition_manual.html">transition_manual</a></span>( <span class="no">.universe</span> )

<span class="fu"><a href="https://gganimate.com/reference/animate.html">animate</a></span>(<span class="no">p</span>, <span class="kw">nframes</span> <span class="kw">=</span> <span class="fl">28</span>,  <span class="kw">fps</span> <span class="kw">=</span> <span class="fl">4</span>)</pre></body></html></div>
<pre><code>## nframes and fps adjusted to match transition</code></pre>
<p><img src="frequentist-multiverse-analysis_files/figure-html/unnamed-chunk-12-1.gif"><!-- --></p>
<p>Correction for multiplicity can be another analysis option in the multiverse analysis. Since the individual confidence level is 95%, an interval that does not contain the value 1 incidates a statistically significant difference at the α=.05 level. The probability of getting at least one such interval if all 3 population means were zero (i.e., the familywise error rate) is α=.14. Likewise, the simultaneous confidence level is 86%, meaning that if we replicate our experiment over and over, we should expect the 3 confidence intervals to capture all 3 population means 86% of the time.</p>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h2>
<p>This example was adapted from Dragicevic et al.’s study <a href="https://hal.inria.fr/hal-01976951/document">Increasing the transparency of research papers with explorable multiverse analyses</a> to show how previously performed multiverse analysis can be reproduced using the package in a flexible, and easily readable manner. It also shows how a multiverse analysis can be implemented in mostly base R syntax.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://abhsarma.github.io">Abhraneel Sarma</a>, Michael Moon, <a href="http://www.mjskay.com">Matthew Kay</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
