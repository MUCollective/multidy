<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extracting and Visualizing the results of a multiverse analysis • multidy</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Extracting and Visualizing the results of a multiverse analysis">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multidy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/branch.html">A discussion on branches in the multiverse</a>
    </li>
    <li>
      <a href="../articles/calculate-mean-multiverse.html">The most basic multiverse example: calculating the mean</a>
    </li>
    <li>
      <a href="../articles/complete-multiverse-analysis.html">Extracting and Visualizing the results of a multiverse analysis</a>
    </li>
    <li>
      <a href="../articles/frequentist-multiverse-analysis.html">A multiverse analysis of the efficiency of physical visualizations</a>
    </li>
    <li>
      <a href="../articles/visualizing-multiverse.html">Extracting and Visualizing the results of a multiverse analysis</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Extracting and Visualizing the results of a multiverse analysis</h1>
                        <h4 class="author">Abhraneel Sarma</h4>
            
            <h4 class="date">2019-10-07</h4>
      
      
      <div class="hidden name"><code>visualizing-multiverse.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>In this document, we show how you can extract results from the multiverse after performing a multiverse analysis. We also show some ways to visualize the results of a multiverse analysis. Because, a multiverse analysis consists of the results from hundreds or thousands of analysis, visualizing them can be difficult. We will show how our package can be used to create the visualizations by Steegen et al. in <a href="https://journals.sagepub.com/doi/pdf/10.1177/1745691616658637">Increasing Transparency Through a Multiverse Analysis</a> and Simonsohn et al. in <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2694998">Specification curve: Descriptive and inferential statistics on all reasonable specifications</a>, as well as using other uncertainty visualization approaches.</p>
</div>
<div id="data-and-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#data-and-analysis" class="anchor"></a>Data and Analysis</h2>
<p>We will be using the durante dataset.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"durante"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">data.raw.study2 &lt;-<span class="st"> </span>durante <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    <span class="dt">Abortion =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>Abortion) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    <span class="dt">StemCell =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>StemCell) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    <span class="dt">Marijuana =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>Marijuana) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    <span class="dt">RichTax =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>RichTax) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">    <span class="dt">StLiving =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>StLiving) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">    <span class="dt">Profit =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>Profit) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">    <span class="dt">FiscConsComp =</span> FreeMarket <span class="op">+</span><span class="st"> </span>PrivSocialSec <span class="op">+</span><span class="st"> </span>RichTax <span class="op">+</span><span class="st"> </span>StLiving <span class="op">+</span><span class="st"> </span>Profit,</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">    <span class="dt">SocConsComp =</span> Marriage <span class="op">+</span><span class="st"> </span>RestrictAbortion <span class="op">+</span><span class="st"> </span>Abortion <span class="op">+</span><span class="st"> </span>StemCell <span class="op">+</span><span class="st"> </span>Marijuana</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">  )</a></code></pre></div>
<p>A detailed description of this analysis can be found in <a href="complete-multiverse-analysis.html"><code>A complete multiverse analysis</code></a>. We will use the results from this analysis to create the visualizations.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">M =<span class="st"> </span><span class="kw"><a href="../reference/multiverse.html">multiverse</a></span>()</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">M<span class="op">$</span>df &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>data.raw.study2  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="st">    </span><span class="kw">mutate</span>( <span class="dt">ComputedCycleLength =</span> StartDateofLastPeriod <span class="op">-</span><span class="st"> </span>StartDateofPeriodBeforeLast )  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>( <span class="kw"><a href="../reference/branch.html">branch</a></span>(cycle_length,</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">            <span class="st">"cl_option1"</span> <span class="op">~</span><span class="st"> </span><span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">            <span class="st">"cl_option2"</span> <span class="op">~</span><span class="st"> </span>ComputedCycleLength <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>ComputedCycleLength <span class="op">&lt;</span><span class="st"> </span><span class="dv">35</span>,</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">            <span class="st">"cl_option3"</span> <span class="op">~</span><span class="st"> </span>ReportedCycleLength <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>ReportedCycleLength <span class="op">&lt;</span><span class="st"> </span><span class="dv">35</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">    )) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>( <span class="kw"><a href="../reference/branch.html">branch</a></span>(certainty,</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">            <span class="st">"cer_option1"</span> <span class="op">~</span><span class="st"> </span><span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">            <span class="st">"cer_option2"</span> <span class="op">~</span><span class="st"> </span>Sure1 <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span> <span class="op">|</span><span class="st"> </span>Sure2 <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13">    )) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">NextMenstrualOnset =</span> <span class="kw"><a href="../reference/branch.html">branch</a></span>(menstrual_calculation,</a>
<a class="sourceLine" id="cb2-15" data-line-number="15">            <span class="st">"mc_option1"</span> <span class="op">%when%</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option3"</span>) <span class="op">~</span><span class="st"> </span>StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ComputedCycleLength,</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">            <span class="st">"mc_option2"</span> <span class="op">%when%</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option2"</span>) <span class="op">~</span><span class="st"> </span>StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ReportedCycleLength,</a>
<a class="sourceLine" id="cb2-17" data-line-number="17">            <span class="st">"mc_option3"</span> <span class="op">~</span><span class="st"> </span>StartDateNext)</a>
<a class="sourceLine" id="cb2-18" data-line-number="18">    )  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="st">    </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb2-20" data-line-number="20">      <span class="dt">CycleDay =</span> <span class="dv">28</span> <span class="op">-</span><span class="st"> </span>(NextMenstrualOnset <span class="op">-</span><span class="st"> </span>DateTesting),</a>
<a class="sourceLine" id="cb2-21" data-line-number="21">      <span class="dt">CycleDay =</span> <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;</span><span class="st"> </span><span class="dv">28</span>, CycleDay, <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">28</span>))</a>
<a class="sourceLine" id="cb2-22" data-line-number="22">    ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="st">    </span><span class="kw">mutate</span>( <span class="dt">Fertility =</span> <span class="kw"><a href="../reference/branch.html">branch</a></span>( fertile,</a>
<a class="sourceLine" id="cb2-24" data-line-number="24">            <span class="st">"fer_option1"</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>( <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;=</span><span class="st"> </span><span class="dv">7</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">14</span>, <span class="st">"high"</span>, <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;=</span><span class="st"> </span><span class="dv">17</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">25</span>, <span class="st">"low"</span>, <span class="ot">NA</span>)) ),</a>
<a class="sourceLine" id="cb2-25" data-line-number="25">            <span class="st">"fer_option2"</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>( <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;=</span><span class="st"> </span><span class="dv">6</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">14</span>, <span class="st">"high"</span>, <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;=</span><span class="st"> </span><span class="dv">17</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">27</span>, <span class="st">"low"</span>, <span class="ot">NA</span>)) ),</a>
<a class="sourceLine" id="cb2-26" data-line-number="26">            <span class="st">"fer_option3"</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>( <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;=</span><span class="st"> </span><span class="dv">9</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">17</span>, <span class="st">"high"</span>, <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;=</span><span class="st"> </span><span class="dv">18</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">25</span>, <span class="st">"low"</span>, <span class="ot">NA</span>)) ),</a>
<a class="sourceLine" id="cb2-27" data-line-number="27">            <span class="st">"fer_option4"</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>( <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;=</span><span class="st"> </span><span class="dv">8</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">14</span>, <span class="st">"high"</span>, <span class="st">"low"</span>) ),</a>
<a class="sourceLine" id="cb2-28" data-line-number="28">            <span class="st">"fer_option45"</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>( <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(CycleDay <span class="op">&gt;=</span><span class="st"> </span><span class="dv">8</span> <span class="op">&amp;</span><span class="st"> </span>CycleDay <span class="op">&lt;=</span><span class="st"> </span><span class="dv">17</span>, <span class="st">"high"</span>, <span class="st">"low"</span>) )</a>
<a class="sourceLine" id="cb2-29" data-line-number="29">    )) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">RelationshipStatus =</span> <span class="kw"><a href="../reference/branch.html">branch</a></span>(relationship_status,</a>
<a class="sourceLine" id="cb2-31" data-line-number="31">            <span class="st">"rs_option1"</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(Relationship<span class="op">==</span><span class="dv">1</span> <span class="op">|</span><span class="st"> </span>Relationship<span class="op">==</span><span class="dv">2</span>, <span class="st">'Single'</span>, <span class="st">'Relationship'</span>)),</a>
<a class="sourceLine" id="cb2-32" data-line-number="32">            <span class="st">"rs_option2"</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(Relationship<span class="op">==</span><span class="dv">1</span>, <span class="st">'Single'</span>, <span class="st">'Relationship'</span>)),</a>
<a class="sourceLine" id="cb2-33" data-line-number="33">            <span class="st">"rs_option3"</span> <span class="op">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(Relationship<span class="op">==</span><span class="dv">1</span>, <span class="st">'Single'</span>, <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(Relationship<span class="op">==</span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span>Relationship<span class="op">==</span><span class="dv">4</span>, <span class="st">'Relationship'</span>, <span class="ot">NA</span>))) )</a>
<a class="sourceLine" id="cb2-34" data-line-number="34">    )</a>
<a class="sourceLine" id="cb2-35" data-line-number="35"></a>
<a class="sourceLine" id="cb2-36" data-line-number="36">M<span class="op">$</span>df &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-37" data-line-number="37"><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">RelComp =</span> <span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>((Rel1 <span class="op">+</span><span class="st"> </span>Rel2 <span class="op">+</span><span class="st"> </span>Rel3)<span class="op">/</span><span class="dv">3</span>, <span class="dv">2</span>))</a></code></pre></div>
<div id="model-2-effect-of-fertility-and-relationship-status-on-religiosity" class="section level3">
<h3 class="hasAnchor">
<a href="#model-2-effect-of-fertility-and-relationship-status-on-religiosity" class="anchor"></a>Model #2: Effect of Fertility and Relationship status on Religiosity</h3>
<p>Steegen et al. analyse the data using 6 models. All the models except the first use this dataset. For the visualizations, we will focus on the effect of Fertility and Relationship status on Religiosity.</p>
<p>The authors perform an ANOVA to study the effect of <em>Fertility</em>, <em>Relationship</em> and their interaction term, on the composite Religiosity score (<code>RelComp</code>). We perform this analysis and extract the results from the multiverse into a tidy <code>data frame</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">M<span class="op">$</span>fit_RelComp &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>( RelComp <span class="op">~</span><span class="st"> </span>Fertility <span class="op">*</span><span class="st"> </span>RelationshipStatus, <span class="dt">data =</span> df )</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">M<span class="op">$</span>fit_FiscConsComp &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>( FiscConsComp <span class="op">~</span><span class="st"> </span>Fertility <span class="op">*</span><span class="st"> </span>RelationshipStatus, <span class="dt">data =</span> df)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">M<span class="op">$</span>fit_SocConsComp &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>( SocConsComp <span class="op">~</span><span class="st"> </span>Fertility <span class="op">*</span><span class="st"> </span>RelationshipStatus, <span class="dt">data =</span> df)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">M<span class="op">$</span>fit_Donate &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span>( Donate <span class="op">~</span><span class="st"> </span>Fertility <span class="op">*</span><span class="st"> </span>Relationship, <span class="dt">data =</span> df, <span class="dt">family =</span> <span class="kw"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span>(<span class="dt">link =</span> <span class="st">"logit"</span>) )</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">M<span class="op">$</span>fit_Vote &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span>( Vote <span class="op">~</span><span class="st"> </span>Fertility <span class="op">*</span><span class="st"> </span>Relationship, <span class="dt">data =</span> df, <span class="dt">family =</span> <span class="kw"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span>(<span class="dt">link =</span> <span class="st">"logit"</span>) )</a></code></pre></div>
<p>In most analysis, you would then look at the results using the <code>summary</code> function. However, when performing a multiverse analysis, the summary would be executed in each universe of the multiverse, and would not be accessible outside each universe. However, there are ways to easily extract the results from each universe, as long as the results within each universe are as <em>tidy data</em>.</p>
</div>
</div>
<div id="the-results" class="section level2">
<h2 class="hasAnchor">
<a href="#the-results" class="anchor"></a>The results</h2>
<div id="computing-the-results-in-each-multiverse" class="section level3">
<h3 class="hasAnchor">
<a href="#computing-the-results-in-each-multiverse" class="anchor"></a>Computing the results in each multiverse</h3>
<p>The <code>broom</code> package allows extracting the summary of most linear models using the <code>tidy()</code> function. The <code>tidy</code> method summarises information about the components of a model including the estimates, std. error, t-statistic, p-value for each coefficient and returns a tibble (a tidy data frame). Additional arguments can be passed to obtain the upper and lower 95% confidence limits, or to change the confidence level.</p>
<p>We will execute this in the multiverse.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">M<span class="op">$</span>summary_RelComp &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>fit_RelComp <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span>broom<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/broom/man/reexports.html">tidy</a></span>( <span class="dt">conf.int =</span> <span class="ot">TRUE</span> )</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">M<span class="op">$</span>summary_FiscConsComp &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>fit_FiscConsComp <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">  </span>broom<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/broom/man/reexports.html">tidy</a></span>( <span class="dt">conf.int =</span> <span class="ot">TRUE</span> )</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">M<span class="op">$</span>summary_SocConsComp &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>fit_SocConsComp <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="st">  </span>broom<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/broom/man/reexports.html">tidy</a></span>( <span class="dt">conf.int =</span> <span class="ot">TRUE</span> )</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">M<span class="op">$</span>summary_Donate &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>fit_Donate <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="st">  </span>broom<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/broom/man/reexports.html">tidy</a></span>( <span class="dt">conf.int =</span> <span class="ot">TRUE</span> )</a>
<a class="sourceLine" id="cb4-12" data-line-number="12"></a>
<a class="sourceLine" id="cb4-13" data-line-number="13">M<span class="op">$</span>summary_Vote &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>fit_Vote <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="st">  </span>broom<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/broom/man/reexports.html">tidy</a></span>( <span class="dt">conf.int =</span> <span class="ot">TRUE</span> )</a>
<a class="sourceLine" id="cb4-15" data-line-number="15"></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="kw"><a href="../reference/execute.html">execute_multiverse</a></span>(M)</a></code></pre></div>
</div>
<div id="extracting-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#extracting-the-results" class="anchor"></a>Extracting the results</h3>
<p>All the computed summaries (<code>summary_RelComp</code>, <code>summary_FiscConsComp</code>, <code>summary_SocConsComp</code>, <code>summary_Donate</code> and <code>summary_Vote</code>) are stored within <code>.results</code> column (a separate environment) in the multiverse table. We can extract these summaries as a tibble using and store it in a separate column, and then unnest this new column:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/accessors.html">multiverse_table</a></span>(M) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">summary =</span> <span class="kw">map</span>(.results, <span class="st">"summary_RelComp"</span>) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw">unnest</span>( summary )</a></code></pre></div>
<pre><code>## # A tibble: 840 x 13
##    .universe cycle_length certainty menstrual_calcu… fertile
##        &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt;            &lt;chr&gt;  
##  1         1 cl_option1   cer_opti… mc_option1       fer_op…
##  2         1 cl_option1   cer_opti… mc_option1       fer_op…
##  3         1 cl_option1   cer_opti… mc_option1       fer_op…
##  4         1 cl_option1   cer_opti… mc_option1       fer_op…
##  5         2 cl_option2   cer_opti… mc_option1       fer_op…
##  6         2 cl_option2   cer_opti… mc_option1       fer_op…
##  7         2 cl_option2   cer_opti… mc_option1       fer_op…
##  8         2 cl_option2   cer_opti… mc_option1       fer_op…
##  9         4 cl_option1   cer_opti… mc_option1       fer_op…
## 10         4 cl_option1   cer_opti… mc_option1       fer_op…
## # … with 830 more rows, and 8 more variables: relationship_status &lt;chr&gt;,
## #   term &lt;chr&gt;, estimate &lt;dbl&gt;, std.error &lt;dbl&gt;, statistic &lt;dbl&gt;,
## #   p.value &lt;dbl&gt;, conf.low &lt;dbl&gt;, conf.high &lt;dbl&gt;</code></pre>
<p>We can then use various R packages to visualize the results. Below, we show some standard visualizations.</p>
</div>
</div>
<div id="visualizations" class="section level2">
<h2 class="hasAnchor">
<a href="#visualizations" class="anchor"></a>Visualizations</h2>
<div id="animating-the-coefficients-of-the-model-from-each-multiverse" class="section level3">
<h3 class="hasAnchor">
<a href="#animating-the-coefficients-of-the-model-from-each-multiverse" class="anchor"></a>Animating the coefficients of the model from each multiverse</h3>
<p>One way to visualize over the multiverse is to animate over the results from each universe in the multiverse. This approach, inspired by the concept of Hypothetical Outcome plots was described by Dragicevic et al. in <a href="https://dl.acm.org/citation.cfm?id=3300295">Increasing the Transparency of Research Papers with Explorable Multiverse Analyses</a>. This approach allows us to quickly see the robustness of a result — if a particular result is consistent across all analysis paths or idiosyncratic to a specific analysis path.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/accessors.html">multiverse_table</a></span>(M) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw">unnest</span>( <span class="kw">map</span>(.results, <span class="st">"summary_RelComp"</span> ) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">term =</span> <span class="kw">recode</span>( term, </a>
<a class="sourceLine" id="cb7-4" data-line-number="4">                 <span class="st">"RelationshipStatusSingle"</span> =<span class="st"> "Single"</span>,</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">                 <span class="st">"Fertilitylow:RelationshipStatusSingle"</span> =<span class="st"> "Single:Fertility_low"</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">  ) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>( term <span class="op">!=</span><span class="st"> "(Intercept)"</span> ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="st">  </span><span class="kw">geom_vline</span>( <span class="dt">xintercept =</span> <span class="dv">0</span>,  <span class="dt">colour =</span> <span class="st">'#979797'</span> ) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_point</span>( <span class="kw">aes</span>(<span class="dt">x =</span> estimate, <span class="dt">y =</span> term)) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="st">  </span><span class="kw">geom_errorbarh</span>( <span class="kw">aes</span>(<span class="dt">xmin =</span> conf.low, <span class="dt">xmax =</span> conf.high, <span class="dt">y =</span> term), <span class="dt">height =</span> <span class="dv">0</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="st">  </span><span class="kw">transition_manual</span>( .universe )</a>
<a class="sourceLine" id="cb7-13" data-line-number="13"></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="kw">animate</span>(p, <span class="dt">nframes =</span> <span class="dv">210</span>, <span class="dt">fps =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="visualizing-multiverse_files/figure-html/unnamed-chunk-1-1.gif"><!-- --></p>
</div>
<div id="histogram-of-p-values-of-the-fertility-relationship-status-interaction" class="section level3">
<h3 class="hasAnchor">
<a href="#histogram-of-p-values-of-the-fertility-relationship-status-interaction" class="anchor"></a>Histogram of p-values of the Fertility × Relationship status interaction</h3>
<p>Another approach would be to summarise the results. Steegen et al. which depicts a histogram of p values of the Fertility × Relationship status interaction on religiosity for the multiverse of 210 data sets in Study 2 (<code>summary_RelComp</code>), on fiscal and social political attitudes for the multiverse of 210 data sets in Study 2 (<code>summary_FiscConsComp</code> and <code>summary_SocConsComp</code>), and on voting and donation preferences for the multiverse of 210 data sets in Study 2 (<code>summary_Donate</code> and <code>summary_Vote</code>). The dashed line indicates p = 0.05.</p>
<p>Below we show how to re-create the visualization.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/accessors.html">multiverse_table</a></span>(M) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">index =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(.)) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>( </a>
<a class="sourceLine" id="cb8-4" data-line-number="4">    <span class="dt">summary_RelComp =</span> <span class="kw">map</span>(.results, <span class="st">"summary_RelComp"</span> ),</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">    <span class="dt">summary_FiscConsComp =</span> <span class="kw">map</span>(.results, <span class="st">"summary_FiscConsComp"</span> ),</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">    <span class="dt">summary_SocConsComp =</span> <span class="kw">map</span>(.results, <span class="st">"summary_SocConsComp"</span> ),</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">    <span class="dt">summary_Donate =</span> <span class="kw">map</span>(.results, <span class="st">"summary_Donate"</span> ),</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">    <span class="dt">summary_Vote =</span> <span class="kw">map</span>(.results, <span class="st">"summary_Vote"</span> )</a>
<a class="sourceLine" id="cb8-9" data-line-number="9">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="st">  </span><span class="kw">select</span>( summary_RelComp<span class="op">:</span>summary_Vote ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="st">  </span><span class="kw">gather</span>( <span class="st">"analysis"</span>, <span class="st">"result"</span> ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="st">  </span><span class="kw">unnest</span>(result) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>( term <span class="op">==</span><span class="st"> "Fertilitylow:RelationshipStatusSingle"</span> <span class="op">|</span><span class="st"> </span>term <span class="op">==</span><span class="st"> "Fertilitylow:Relationship"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> p.value), <span class="dt">bins =</span> <span class="dv">100</span>, <span class="dt">fill =</span> <span class="st">"#ffffff"</span>, <span class="dt">color =</span> <span class="st">"#333333"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="st">  </span><span class="kw">geom_vline</span>( <span class="dt">xintercept =</span> <span class="fl">0.05</span>, <span class="dt">color =</span> <span class="st">"red"</span>, <span class="dt">linetype =</span> <span class="st">"dashed"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>analysis, <span class="dt">scales =</span> <span class="st">"free"</span>, <span class="dt">nrow =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="visualizing-multiverse_files/figure-html/unnamed-chunk-2-1.png" width="864"></p>
</div>
<div id="specification-curve" class="section level3">
<h3 class="hasAnchor">
<a href="#specification-curve" class="anchor"></a>Specification curve</h3>
<p>Simonsohn et al. propose visualizing results from the multiverse as a <code>specification curve</code>, which consists of two panels. The top panel shows the effect size (here the value of a coefficient) for each universe (or specification). The bottom panel shows which specification of the parameters results in that result.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">data.spec_curve &lt;-<span class="st"> </span><span class="kw"><a href="../reference/accessors.html">multiverse_table</a></span>(M) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw">unnest</span>( <span class="kw">map</span>(.results, <span class="st">"summary_RelComp"</span> ) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>( term <span class="op">==</span><span class="st"> "Fertilitylow:RelationshipStatusSingle"</span> ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw">select</span>( .universe, <span class="op">!!</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="kw"><a href="../reference/accessors.html">parameters</a></span>(M)), estimate, p.value ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw">arrange</span>( estimate ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">.universe =</span> <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(.))</a>
<a class="sourceLine" id="cb9-7" data-line-number="7"></a>
<a class="sourceLine" id="cb9-8" data-line-number="8">p1 &lt;-<span class="st"> </span>data.spec_curve <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="st">  </span><span class="kw">gather</span>( <span class="st">"parameter_name"</span>, <span class="st">"parameter_option"</span>, <span class="op">!!</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="kw"><a href="../reference/accessors.html">parameters</a></span>(M)) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="st">  </span><span class="kw">select</span>( .universe, parameter_name, parameter_option) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">    <span class="dt">parameter_name =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="kw">str_replace</span>(parameter_name, <span class="st">"_"</span>, <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>))</a>
<a class="sourceLine" id="cb9-13" data-line-number="13">    <span class="co">#parameter_option = fct_relevel(factor(parameter_option), "relationship status", after = Inf)</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="st">  </span><span class="kw">geom_point</span>( <span class="kw">aes</span>(<span class="dt">x =</span> .universe, <span class="dt">y =</span> parameter_option, <span class="dt">color =</span> parameter_name), <span class="dt">size =</span> <span class="fl">0.5</span> ) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="st">  </span><span class="kw">labs</span>( <span class="dt">x =</span> <span class="st">"universe #"</span>, <span class="dt">y =</span> <span class="st">"option included in the analysis specification"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="st">  </span><span class="kw">facet_grid</span>(parameter_name <span class="op">~</span><span class="st"> </span>., <span class="dt">space=</span><span class="st">"free_y"</span>, <span class="dt">scales=</span><span class="st">"free_y"</span>, <span class="dt">switch=</span><span class="st">"y"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">strip.placement =</span> <span class="st">"outside"</span>,</a>
<a class="sourceLine" id="cb9-20" data-line-number="20">        <span class="dt">strip.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill=</span><span class="ot">NA</span>,<span class="dt">colour=</span><span class="ot">NA</span>),</a>
<a class="sourceLine" id="cb9-21" data-line-number="21">        <span class="dt">panel.spacing.x=</span><span class="kw">unit</span>(<span class="fl">0.15</span>,<span class="st">"cm"</span>), </a>
<a class="sourceLine" id="cb9-22" data-line-number="22">        <span class="dt">strip.text.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">180</span>, <span class="dt">face=</span><span class="st">"bold"</span>, <span class="dt">size=</span><span class="dv">10</span>), </a>
<a class="sourceLine" id="cb9-23" data-line-number="23">        <span class="co">#legend.position = "none",</span></a>
<a class="sourceLine" id="cb9-24" data-line-number="24">        <span class="dt">panel.spacing =</span> <span class="kw">unit</span>(<span class="fl">0.25</span>, <span class="st">"lines"</span>)</a>
<a class="sourceLine" id="cb9-25" data-line-number="25">      )</a>
<a class="sourceLine" id="cb9-26" data-line-number="26"></a>
<a class="sourceLine" id="cb9-27" data-line-number="27">p2 &lt;-<span class="st"> </span>data.spec_curve <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-28" data-line-number="28"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb9-29" data-line-number="29"><span class="st">  </span><span class="kw">geom_point</span>( <span class="kw">aes</span>(.universe, estimate, <span class="dt">color =</span> (p.value <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.05</span>)), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-30" data-line-number="30"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">""</span>, <span class="dt">y =</span> <span class="st">"coefficient of</span><span class="ch">\n</span><span class="st">interaction term:</span><span class="ch">\n</span><span class="st">fertility x relationship"</span>)</a>
<a class="sourceLine" id="cb9-31" data-line-number="31">  </a>
<a class="sourceLine" id="cb9-32" data-line-number="32">cowplot<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/cowplot/man/plot_grid.html">plot_grid</a></span>(p2, p1, <span class="dt">axis =</span> <span class="st">"bltr"</span>,  <span class="dt">align =</span> <span class="st">"v"</span>, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">rel_heights =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>, <span class="dv">2</span>))</a></code></pre></div>
<p><img src="visualizing-multiverse_files/figure-html/unnamed-chunk-3-1.png" width="1152"></p>
<p><strong>Incomplete</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="../reference/accessors.html">multiverse_table</a></span>(M) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>( <span class="dt">index =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(.)) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw">unnest</span>( <span class="kw">map</span>(.results, <span class="st">"summary_RelComp"</span> ) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>( term <span class="op">==</span><span class="st"> "Fertilitylow:RelationshipStatusSingle"</span> ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">    <span class="dt">cycle_length =</span> <span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(cycle_length)),</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">    <span class="dt">certainty =</span> <span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(certainty)),</a>
<a class="sourceLine" id="cb10-8" data-line-number="8">    <span class="dt">menstrual_calculation =</span> <span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(menstrual_calculation)),</a>
<a class="sourceLine" id="cb10-9" data-line-number="9">    <span class="dt">fertile =</span> <span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(fertile)),</a>
<a class="sourceLine" id="cb10-10" data-line-number="10">    <span class="dt">relationship_status =</span> <span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(relationship_status)),</a>
<a class="sourceLine" id="cb10-11" data-line-number="11">    <span class="dt">significance =</span> <span class="kw"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(p.value <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.05</span>, <span class="st">"p &lt; 0.05"</span>, <span class="st">"p &gt;= 0.05"</span>)</a>
<a class="sourceLine" id="cb10-12" data-line-number="12">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw"><a href="https://rdrr.io/r/base/interaction.html">interaction</a></span>(cycle_length, certainty, menstrual_calculation), </a>
<a class="sourceLine" id="cb10-14" data-line-number="14">        <span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/base/interaction.html">interaction</a></span>(fertile, relationship_status))) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="st">  </span><span class="kw">geom_raster</span>( <span class="kw">aes</span>(<span class="dt">fill =</span> significance) ) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="st">  </span><span class="kw">geom_text</span>( <span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(p.value, <span class="dv">2</span>)), <span class="dt">size =</span> <span class="dv">3</span> ) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb10-18" data-line-number="18">    <span class="dt">x =</span> <span class="kw"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>(<span class="kw"><a href="https://rdrr.io/r/grDevices/plotmath.html">atop</a></span>(<span class="st">"combinations of different options for"</span>, <span class="op">~</span><span class="kw"><a href="https://rdrr.io/r/grDevices/plotmath.html">italic</a></span>(<span class="st">"cycle length, certainty and menstrual calc."</span><span class="op">~</span><span class="st">"parameters"</span>))),</a>
<a class="sourceLine" id="cb10-19" data-line-number="19">    <span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>(<span class="kw"><a href="https://rdrr.io/r/grDevices/plotmath.html">atop</a></span>(<span class="st">"combinations of different options for"</span>, <span class="op">~</span><span class="kw"><a href="https://rdrr.io/r/grDevices/plotmath.html">italic</a></span>(<span class="st">"fertility and relationship"</span><span class="op">~</span><span class="st">"parameters"</span>)))</a>
<a class="sourceLine" id="cb10-20" data-line-number="20">  )</a></code></pre></div>
<p><img src="visualizing-multiverse_files/figure-html/unnamed-chunk-4-1.png" width="864"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#data-and-analysis">Data and Analysis</a></li>
      <li><a href="#the-results">The results</a></li>
      <li><a href="#visualizations">Visualizations</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Abhraneel Sarma, Matthew Kay.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
