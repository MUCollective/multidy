<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Declaring conditions in the multiverse • multiverse</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Declaring conditions in the multiverse">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multiverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Conditions.html">Declaring conditions in the multiverse</a>
    </li>
    <li>
      <a href="../articles/branch.html">A discussion on branches in the multiverse</a>
    </li>
    <li>
      <a href="../articles/calculate-mean-multiverse.html">The most basic multiverse example: calculating the mean</a>
    </li>
    <li>
      <a href="../articles/complete-multiverse-analysis.html">A complete implementation of a multiverse analysis</a>
    </li>
    <li>
      <a href="../articles/dance.html">Recreating `Adding inferential treatments to plots using Resampling and Animations` using multidy</a>
    </li>
    <li>
      <a href="../articles/frequentist-multiverse-analysis.html">A multiverse analysis of the efficiency of physical visualizations</a>
    </li>
    <li>
      <a href="../articles/visualizing-multiverse.html">Extracting and Visualizing the results of a multiverse analysis</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Declaring conditions in the multiverse</h1>
                        <h4 class="author">Abhraneel Sarma</h4>
            
            <h4 class="date">r Sys.Date()</h4>
      
      
      <div class="hidden name"><code>Conditions.Rmd</code></div>

    </div>

    
    
<div id="the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-data" class="anchor"></a>The data</h2>
<p>We will be using the same data as the Vignette <em>A complete implementation of a multiverse analysis</em> (see vignette(“complete-multiverse-analysis”)).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"durante"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">data.raw.study2 &lt;-<span class="st"> </span>durante <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    <span class="dt">Abortion =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>Abortion) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    <span class="dt">StemCell =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>StemCell) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    <span class="dt">Marijuana =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>Marijuana) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    <span class="dt">RichTax =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>RichTax) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">    <span class="dt">StLiving =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>StLiving) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">    <span class="dt">Profit =</span> <span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>Profit) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">    <span class="dt">FiscConsComp =</span> FreeMarket <span class="op">+</span><span class="st"> </span>PrivSocialSec <span class="op">+</span><span class="st"> </span>RichTax <span class="op">+</span><span class="st"> </span>StLiving <span class="op">+</span><span class="st"> </span>Profit,</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">    <span class="dt">SocConsComp =</span> Marriage <span class="op">+</span><span class="st"> </span>RestrictAbortion <span class="op">+</span><span class="st"> </span>Abortion <span class="op">+</span><span class="st"> </span>StemCell <span class="op">+</span><span class="st"> </span>Marijuana</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">  )</a></code></pre></div>
</div>
<div id="specifying-conditions-in-the-multiverse-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#specifying-conditions-in-the-multiverse-analysis" class="anchor"></a>Specifying conditions in the multiverse analysis</h2>
<p>In a multiverse analysis, it may occur that the value of one variable might depend on the value of another variable defined previously. For example, in our example, we are excluding participants based on their <em>cycle length</em>. This can be done in two ways: we can use the values of the variable,<code>ComputedCycleLength</code> or <code>ReportedCycleLength</code>. If we are using <code>ComputedCycleLength</code> to exclude participants, this means that we should not calculate the variable <code>NextMenstrualOnset</code> (date for the onset of the next menstrual cycle) using the <code>ReportedCycleLength</code> value. Similarly, if we are using <code>ReportedCycleLength</code> to exclude participants it is inconsistent to calculate <code>NextMenstrualOnset</code> using <code>ComputedCycleLength</code>.</p>
<p>We should be able to express these conditions in the multiverse. We can do this in two ways: 1. <code>%when%</code>: when declaring a branch, we can use this operator to specify the conditional <span class="math inline">\(A | B\)</span> as <code>A %when% B</code>. The conditional <span class="math inline">\(A | B\)</span> is also referred to as the connective <span class="math inline">\(A \implies B\)</span>. This has the meaning “if A is true, then B is also true” and is an abbreviation for <span class="math inline">\(\neg A | B\)</span> 2. <code>branch_assert</code>: this function allows the user to specify any condition in the form of a logical operation</p>
<div id="the-when-operator" class="section level4">
<h4 class="hasAnchor">
<a href="#the-when-operator" class="anchor"></a>The %when% operator</h4>
<p>There are two ways in which you can specify the <code>%when%</code> operator. The first is to specify it at the end of the branch. This will work even if you omit the branch option name.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">M<span class="op">$</span>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">NextMenstrualOnset =</span> <span class="kw"><a href="../reference/branch.html">branch</a></span>(menstrual_calculation,</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">            <span class="st">"mc_option1"</span> <span class="op">~</span><span class="st"> </span>(StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ComputedCycleLength) <span class="op">%when%</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option3"</span>),</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">            <span class="st">"mc_option2"</span> <span class="op">~</span><span class="st"> </span>(StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ReportedCycleLength) <span class="op">%when%</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option2"</span>),</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">            <span class="st">"mc_option3"</span> <span class="op">~</span><span class="st"> </span>StartDateNext)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">    )</a></code></pre></div>
<p>The other is to specify it at the head of the branch, right after the option name:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">M<span class="op">$</span>df &lt;-<span class="st"> </span>df  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">NextMenstrualOnset =</span> <span class="kw"><a href="../reference/branch.html">branch</a></span>(menstrual_calculation,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">            <span class="st">"mc_option1"</span> <span class="op">%when%</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option3"</span>) <span class="op">~</span><span class="st"> </span>StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ComputedCycleLength,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">            <span class="st">"mc_option2"</span> <span class="op">%when%</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option2"</span>) <span class="op">~</span><span class="st"> </span>(StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ReportedCycleLength),</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">            <span class="st">"mc_option3"</span> <span class="op">~</span><span class="st"> </span>StartDateNext)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">    )</a></code></pre></div>
<p>We can write the complete analysis by specifying the condition with the %when% operator as:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">M =<span class="st"> </span><span class="kw"><a href="../reference/multiverse.html">multiverse</a></span>()</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">M<span class="op">$</span>df &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>data.raw.study2  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">    </span><span class="kw">mutate</span>( <span class="dt">ComputedCycleLength =</span> StartDateofLastPeriod <span class="op">-</span><span class="st"> </span>StartDateofPeriodBeforeLast )  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>( <span class="kw"><a href="../reference/branch.html">branch</a></span>(cycle_length,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">            <span class="st">"cl_option1"</span> <span class="op">~</span><span class="st"> </span><span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">            <span class="st">"cl_option2"</span> <span class="op">~</span><span class="st"> </span>ComputedCycleLength <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>ComputedCycleLength <span class="op">&lt;</span><span class="st"> </span><span class="dv">35</span>,</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">            <span class="st">"cl_option3"</span> <span class="op">~</span><span class="st"> </span>ReportedCycleLength <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>ReportedCycleLength <span class="op">&lt;</span><span class="st"> </span><span class="dv">35</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9">    )) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">NextMenstrualOnset =</span> <span class="kw"><a href="../reference/branch.html">branch</a></span>(menstrual_calculation,</a>
<a class="sourceLine" id="cb4-11" data-line-number="11">            <span class="st">"mc_option1"</span> <span class="op">%when%</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option3"</span>) <span class="op">~</span><span class="st"> </span>StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ComputedCycleLength,</a>
<a class="sourceLine" id="cb4-12" data-line-number="12">            <span class="st">"mc_option2"</span> <span class="op">%when%</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option2"</span>) <span class="op">~</span><span class="st"> </span>StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ReportedCycleLength,</a>
<a class="sourceLine" id="cb4-13" data-line-number="13">            <span class="st">"mc_option3"</span> <span class="op">~</span><span class="st"> </span>StartDateNext)</a>
<a class="sourceLine" id="cb4-14" data-line-number="14">    )</a></code></pre></div>
<p>As the condition implies, the parameter <code>menstrual_calcaultion</code> (which is for calclating the variable <code>NextMenstrualCalculation</code>) cannot take the value of “mc_option1” when we filter <code>cycle_length</code> using “cl_option3”. Similarly, <code>menstrual_calcaultion</code> cannot take the value of “mc_option2” when we filter <code>cycle_length</code> using “cl_option2”. In the multiverse table below, you can see that those two parameter combinations are absent.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/accessors.html">multiverse_table</a></span>(M)</a></code></pre></div>
<pre><code>## # A tibble: 7 x 6
##   .universe cycle_length menstrual_calculat… .parameter_assign… .code   .results
##       &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;               &lt;list&gt;             &lt;list&gt;  &lt;list&gt;  
## 1         1 cl_option1   mc_option1          &lt;named list [2]&gt;   &lt;list … &lt;env&gt;   
## 2         2 cl_option2   mc_option1          &lt;named list [2]&gt;   &lt;list … &lt;env&gt;   
## 3         4 cl_option1   mc_option2          &lt;named list [2]&gt;   &lt;list … &lt;env&gt;   
## 4         6 cl_option3   mc_option2          &lt;named list [2]&gt;   &lt;list … &lt;env&gt;   
## 5         7 cl_option1   mc_option3          &lt;named list [2]&gt;   &lt;list … &lt;env&gt;   
## 6         8 cl_option2   mc_option3          &lt;named list [2]&gt;   &lt;list … &lt;env&gt;   
## 7         9 cl_option3   mc_option3          &lt;named list [2]&gt;   &lt;list … &lt;env&gt;</code></pre>
</div>
<div id="the-branch_assert-function" class="section level4">
<h4 class="hasAnchor">
<a href="#the-branch_assert-function" class="anchor"></a>The <code>branch_assert()</code> function</h4>
<p>The same can be performed with the <code>branch_assert()</code> function. The benefit of using this is that within the branch assert function, the user can specify any logical operation.</p>
<p>For eg: the above logical operations can be specified as: <code>branch_assert((menstrual_calculation != "mc_option1" | cycle_length != "cl_option3"))</code></p>
<p>Both these operations have the same result, but the first may not be as easily interpretable. We specify the conditionals using the <code>branch_assert()</code> function in our example as:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">M<span class="op">$</span>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">    </span><span class="kw">branch_assert</span>( (menstrual_calculation <span class="op">!=</span><span class="st"> "mc_option1"</span> <span class="op">|</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option3"</span>)) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">    </span><span class="kw">branch_assert</span>( (menstrual_calculation <span class="op">!=</span><span class="st"> "mc_option2"</span> <span class="op">|</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option2"</span>)) )</a></code></pre></div>
<p>Using the <code>branch_assert()</code>, we can perform the exact same analysis:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">M =<span class="st"> </span><span class="kw"><a href="../reference/multiverse.html">multiverse</a></span>()</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">M<span class="op">$</span>df &lt;-<span class="st"> </span><span class="er">~</span><span class="st"> </span>data.raw.study2  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">    </span><span class="kw">mutate</span>( <span class="dt">ComputedCycleLength =</span> StartDateofLastPeriod <span class="op">-</span><span class="st"> </span>StartDateofPeriodBeforeLast )  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>( <span class="kw"><a href="../reference/branch.html">branch</a></span>(cycle_length,</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">            <span class="st">"cl_option1"</span> <span class="op">~</span><span class="st"> </span><span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">            <span class="st">"cl_option2"</span> <span class="op">~</span><span class="st"> </span>ComputedCycleLength <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>ComputedCycleLength <span class="op">&lt;</span><span class="st"> </span><span class="dv">35</span>,</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">            <span class="st">"cl_option3"</span> <span class="op">~</span><span class="st"> </span>ReportedCycleLength <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>ReportedCycleLength <span class="op">&lt;</span><span class="st"> </span><span class="dv">35</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">    )) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">NextMenstrualOnset =</span> <span class="kw"><a href="../reference/branch.html">branch</a></span>(menstrual_calculation,</a>
<a class="sourceLine" id="cb8-11" data-line-number="11">            <span class="st">"mc_option1"</span> <span class="op">~</span><span class="st"> </span>StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ComputedCycleLength,</a>
<a class="sourceLine" id="cb8-12" data-line-number="12">            <span class="st">"mc_option2"</span> <span class="op">~</span><span class="st"> </span>StartDateofLastPeriod <span class="op">+</span><span class="st"> </span>ReportedCycleLength,</a>
<a class="sourceLine" id="cb8-13" data-line-number="13">            <span class="st">"mc_option3"</span> <span class="op">~</span><span class="st"> </span>StartDateNext)</a>
<a class="sourceLine" id="cb8-14" data-line-number="14">    ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="st">    </span><span class="kw">branch_assert</span>( (menstrual_calculation <span class="op">!=</span><span class="st"> "mc_option1"</span> <span class="op">|</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option3"</span>)) ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="st">    </span><span class="kw">branch_assert</span>( (menstrual_calculation <span class="op">!=</span><span class="st"> "mc_option2"</span> <span class="op">|</span><span class="st"> </span>(cycle_length <span class="op">!=</span><span class="st"> "cl_option2"</span>)) )</a></code></pre></div>
<p>As we can see, this results in the same multiverse.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="../reference/accessors.html">multiverse_table</a></span>(M)<span class="op">$</span>.code</a></code></pre></div>
<pre><code>## [[1]]
## [[1]][[1]]
## {
##     df &lt;- data.raw.study2 %&gt;% mutate(ComputedCycleLength = StartDateofLastPeriod - 
##         StartDateofPeriodBeforeLast) %&gt;% filter(TRUE) %&gt;% mutate(NextMenstrualOnset = StartDateofLastPeriod + 
##         ComputedCycleLength)
## }
## 
## 
## [[2]]
## [[2]][[1]]
## {
##     df &lt;- data.raw.study2 %&gt;% mutate(ComputedCycleLength = StartDateofLastPeriod - 
##         StartDateofPeriodBeforeLast) %&gt;% filter(ComputedCycleLength &gt; 
##         25 &amp; ComputedCycleLength &lt; 35) %&gt;% mutate(NextMenstrualOnset = StartDateofLastPeriod + 
##         ComputedCycleLength)
## }
## 
## 
## [[3]]
## [[3]][[1]]
## {
##     df &lt;- data.raw.study2 %&gt;% mutate(ComputedCycleLength = StartDateofLastPeriod - 
##         StartDateofPeriodBeforeLast) %&gt;% filter(TRUE) %&gt;% mutate(NextMenstrualOnset = StartDateofLastPeriod + 
##         ReportedCycleLength)
## }
## 
## 
## [[4]]
## [[4]][[1]]
## {
##     df &lt;- data.raw.study2 %&gt;% mutate(ComputedCycleLength = StartDateofLastPeriod - 
##         StartDateofPeriodBeforeLast) %&gt;% filter(ReportedCycleLength &gt; 
##         25 &amp; ReportedCycleLength &lt; 35) %&gt;% mutate(NextMenstrualOnset = StartDateofLastPeriod + 
##         ReportedCycleLength)
## }
## 
## 
## [[5]]
## [[5]][[1]]
## {
##     df &lt;- data.raw.study2 %&gt;% mutate(ComputedCycleLength = StartDateofLastPeriod - 
##         StartDateofPeriodBeforeLast) %&gt;% filter(TRUE) %&gt;% mutate(NextMenstrualOnset = StartDateNext)
## }
## 
## 
## [[6]]
## [[6]][[1]]
## {
##     df &lt;- data.raw.study2 %&gt;% mutate(ComputedCycleLength = StartDateofLastPeriod - 
##         StartDateofPeriodBeforeLast) %&gt;% filter(ComputedCycleLength &gt; 
##         25 &amp; ComputedCycleLength &lt; 35) %&gt;% mutate(NextMenstrualOnset = StartDateNext)
## }
## 
## 
## [[7]]
## [[7]][[1]]
## {
##     df &lt;- data.raw.study2 %&gt;% mutate(ComputedCycleLength = StartDateofLastPeriod - 
##         StartDateofPeriodBeforeLast) %&gt;% filter(ReportedCycleLength &gt; 
##         25 &amp; ReportedCycleLength &lt; 35) %&gt;% mutate(NextMenstrualOnset = StartDateNext)
## }</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#the-data">The data</a></li>
      <li><a href="#specifying-conditions-in-the-multiverse-analysis">Specifying conditions in the multiverse analysis</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Abhraneel Sarma, Matthew Kay.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
